---
// import components
import ProjectCard from '../Components/ProjectCard.astro';
import Buttons from './Buttons.astro';

// Props
interface Props {
  name: string;
  description: string;
  link: string;
  github: string;
  position?: boolean;
  imagesrc: string;
}

const btnProject = [
  {
    name: '01. Music Gram',
    id: 1,
  },
  {
    name: '02. Personal blog',
    id: 2,
  },
  {
    name: '03. Influencer Landing Page',
    id: 3,
  },
  {
    name: '04. Cocina con Micaela',
    id: 4,
  },
];

const {
  name,
  description,
  link,
  github,
  position = true,
  imagesrc,
} = Astro.props as Props;
---

{
  position && (
    <div
      id="project-display"
      class="project flex flex-wrap-reverse gap-[5rem] my-8"
    >
      <article class="proj_article basis-[30em] grow flex flex-col">
        <h3 id="proj-title">{name}</h3>
        <p id="proj-desc">{description}</p>
        <div class="w-full flex flex-col gap-4 my-[2rem] lg:flex-row text-center">
          <Buttons
            width="fit"
            link={link}
            size="lg"
            classes="self-end"
            isFilled
          >
            Github
          </Buttons>
          <Buttons width="fit" link={github} size="lg" classes="self-end">
            Github
          </Buttons>
        </div>
      </article>
      <div class="basis-[30em] grow">
        <ProjectCard imagesrc={imagesrc} />
      </div>
    </div>
  )
}
{
  !position && (
    <div id="project-display" class="project flex flex-wrap gap-[5rem] my-8">
      <div class="basis-[30em] grow">
        <ProjectCard imagesrc={imagesrc} />
      </div>
      <article class="proj_article basis-[30em] grow flex flex-col justify-around">
        <h3 id="proj-title">{name}</h3>
        <p id="proj-desc">{description}</p>
        <div class="w-full flex flex-col gap-4 my-[2rem] lg:flex-row text-center">
          <Buttons
            width="fit"
            link={link}
            size="lg"
            classes="self-end"
            isFilled
          >
            Github
          </Buttons>
          <Buttons width="fit" link={github} size="lg" classes="self-end">
            Github
          </Buttons>
        </div>
      </article>
    </div>
  )
}
<!-- <div class="project__key_points">
    <h3>Key outputs</h3>
    <ul class="project__ul">
      <li class="project__li">
        <img src="/images/icons/web.webp" alt="icono key points" />
        <span class="key-text">Clean Code</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/performance.avif" alt="icono key points" />
        <span class="key-text">Gran perfomance</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/smartphone.avif" alt="icono key points" />
        <span class="key-text">Diseño responsive</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/test.avif" alt="icono key points" />
        <span class="key-text">Testing front y back end</span>
      </li>
    </ul>
  </div> -->

<!-- <style lang="scss" is:global>
  .project {
    gap: 1rem;
    align-items: flex-start;
    flex-wrap: wrap;
    &,
    &__links,
    &__ul,
    &__li,
    &__text,
    &__action,
    &__key_points {
      display: flex;
    }

    &__links,
    &__ul,
    &__text,
    &__key_points {
      flex-direction: column;
      justify-content: flex-start;
      text-align: left;
    }

    &__links {
      flex: 1;
      flex-basis: 15em;
      flex-grow: 1;
      flex-wrap: wrap;
    }
    &__li {
      flex: 1;
      padding: 1rem;
      align-items: center;
      gap: 1rem;
      button {
        width: fit-content;
        color: var(--clr-text-1);
        font-size: 1.4rem;
        font-weight: 600;
        text-align: left;
        border-bottom: 3px transparent solid;
        transition: all 0.2s linear;
        &:hover {
          border-bottom: 3px solid var(--clr-text-2);
          color: var(--clr-text-2);
        }
        &.selected {
          border-bottom: 3px solid var(--clr-text-2);
          color: var(--clr-text-2);
        }
      }
      img {
        width: 3rem;
        aspect-ratio: 1;
        object-fit: contain;
      }
      span {
        font-size: clamp(1rem, 1.5vw, 1.2rem);
      }
    }
    &__text {
      flex-basis: 20em;
      flex-grow: 3;
      gap: 0.5rem;
      img {
        aspect-ratio: 16/9;
        object-fit: contain;
      }
    }

    &__action {
      gap: 1rem;
    }

    &__key_points {
      --distance: 6px;
      flex: 1;
      flex-basis: 10em;
      padding: 0.8rem;
      position: relative;
      border: 1px solid var(--clr-border-2);
      background-color: var(--clr-background-2);

      &::after,
      &::before {
        content: '';
        position: absolute;
        inset: 0;
        border: inherit;
        z-index: -1;
      }
      &::after {
        transform: translate(var(--distance), var(--distance));
        background-color: var(--clr-background-1);
      }
      &::before {
        transform: translate(
          calc(var(--distance) * 2),
          calc(var(--distance) * 2)
        );
        background-color: var(--clr-text-2);
      }
    }
  }
</style> -->

<!-- <script defer>
  const projects = [
    {
      linkLive: 'https://music-gram-yefreescoding.vercel.app',
      linkGit: 'https://github.com/yefreescoding/music-gram.git',
      name: 'Music Gram',
      image: '/images/projects-img/music-gram.webp',
      description: `Un sitio web creado para mostrar contenido estático sobre los artistas y la música, que mas me gusta y me inspira.`,
    },
    {
      linkLive: 'https://you-me-blog.vercel.app',
      linkGit: 'https://github.com/yefreescoding/you-me-blog.git',
      name: 'Personal blog',
      image: '/images/projects-img/blog.png',
      description: `Mi blog personal, creado desde cero. Siempre quise tener mi propio blog, y poder crear este sitio web la verdad me llena de orgullo.`,
    },
    {
      linkLive: 'https://redesign-web-page.vercel.app',
      linkGit: 'https://github.com/yefreescoding/Astro-leanna-deeb.git',
      name: 'Influencer landing page',
      image: '/images/projects-img/influencer-landing.png',
      description: `Rediseño landing page de una influencer. Quise crear un pequeño sitio web de una pagina. Sin uso de librerías, todo en Vanilla`,
    },
    {
      linkLive: 'https://micaela-kitchen.vercel.app',
      linkGit: 'https://github.com/yefreescoding/micaela-kitchen.git',
      name: 'Cocina con Micaela',
      image: '/images/projects-img/cocina-con-micaela.webp',
      description: `Recetas, recetas y mas recetas.`,
    },
  ];

  const projImg = document.getElementById('proj-img');
  const projTitle = document.getElementById('proj-title');
  const linkLive = document.getElementById('link-live');
  const linkGit = document.getElementById('link-git');
  const projDesc = document.getElementById('proj-desc');

  const btnSelected = document.querySelectorAll('.proj-btn');
  const section = document.getElementById('project-display');

  let currentItem = 0;

  window.addEventListener('DOMContentLoaded', () => {
    showProject(currentItem);
  });

  function showProject(project) {
    const item = projects[project];
    projTitle.textContent = item.name;
    projImg.src = item.image;
    projDesc.textContent = item.description;
    linkLive.href = item.linkLive;
    linkGit.href = item.linkGit;
  }

  section.addEventListener('click', (e) => {
    const id = e.target.dataset.id;
    if (id) {
      btnSelected.forEach((btn) => {
        btn.classList.remove('selected');
        e.target.classList.add('selected');
      });
    }

    if (id === 'project-1') {
      currentItem = 0;
      showProject(currentItem);
    } else if (id === 'project-2') {
      currentItem = 1;
      showProject(currentItem);
    } else if (id === 'project-3') {
      currentItem = 2;
      showProject(currentItem);
    } else if (id === 'project-4') {
      currentItem = 3;
      showProject(currentItem);
    }
  });
</script> -->
