---
---

<div id="project-display" class="project">
  <div class="project__links" aria-label="Links hacia los proyectos">
    <ul class="project__ul">
      <li class="project__li">
        <button
          class="proj-btn selected"
          data-id="project-1"
          type="button"
          id="project-1"
        >
          01. Music Gram
        </button>
      </li>
      <li class="project__li">
        <button
          class="proj-btn"
          data-id="project-2"
          type="button"
          id="project-2"
        >
          02. Cocina con Micaela
        </button>
      </li>
      <li class="project__li">
        <button
          class="proj-btn"
          data-id="project-3"
          type="button"
          id="project-3"
        >
          03. Personal Blog
        </button>
      </li>
    </ul>
  </div>
  <article class="project__text">
    <h3 id="proj-title"></h3>
    <img
      id="proj-img"
      src="/images/projects-img/music-gram.webp"
      alt="Imagen del proyecto"
    />
    <p id="proj-desc">
      <!-- Description -->
    </p>
    <div class="project__action">
      <a id="link-live" class="btn principal" href="/">Ir al sitio &#8599;</a>
      <a id="link-git" class="btn secondary" href="/">GitHub</a>
    </div>
  </article>
  <div class="project__key_points">
    <h3>Key outputs</h3>
    <ul class="project__ul">
      <li class="project__li">
        <img src="/images/icons/web.webp" alt="icono key points" />
        <span class="key-text">Clean Code</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/performance.avif" alt="icono key points" />
        <span class="key-text">Gran perfomance</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/smartphone.avif" alt="icono key points" />
        <span class="key-text">Diseño responsive</span>
      </li>
      <li class="project__li">
        <img src="/images/icons/test.avif" alt="icono key points" />
        <span class="key-text">Testing front y back end</span>
      </li>
    </ul>
  </div>
</div>

<style lang="scss" is:global>
  .project {
    gap: 1rem;
    align-items: flex-start;
    flex-wrap: wrap;
    &,
    &__links,
    &__ul,
    &__li,
    &__text,
    &__action,
    &__key_points {
      display: flex;
    }

    &__links,
    &__ul,
    &__text,
    &__key_points {
      flex-direction: column;
      justify-content: flex-start;
      text-align: left;
    }

    &__links {
      flex: 1;
      flex-basis: 15em;
      flex-grow: 1;
      flex-wrap: wrap;
    }
    &__li {
      flex: 1;
      padding: 1rem;
      align-items: center;
      gap: 1rem;
      button {
        width: fit-content;
        color: var(--clr-text-1);
        font-size: clamp(1.1rem, 1.5vw, 1.5rem);
        border-bottom: 3px transparent solid;
        transition: all 0.2s linear;
        &:hover {
          border-bottom: 3px solid var(--clr-text-2);
          color: var(--clr-text-2);
        }
        &.selected {
          border-bottom: 3px solid var(--clr-text-2);
          color: var(--clr-text-2);
        }
      }
      img {
        width: 3rem;
        aspect-ratio: 1;
        object-fit: contain;
      }
      span {
        font-size: clamp(1rem, 1.5vw, 1.2rem);
      }
    }
    &__text {
      flex-basis: 20em;
      flex-grow: 3;
      gap: 0.5rem;
      img {
        aspect-ratio: 16/9;
        object-fit: contain;
      }
    }

    &__action {
      gap: 1rem;
    }

    &__key_points {
      --distance: 6px;
      flex: 1;
      flex-basis: 10em;
      padding: 0.8rem;
      position: relative;
      border: 1px solid var(--clr-border-2);
      background-color: var(--clr-background-2);

      &::after,
      &::before {
        content: '';
        position: absolute;
        inset: 0;
        border: inherit;
        z-index: -1;
      }
      &::after {
        transform: translate(var(--distance), var(--distance));
        background-color: var(--clr-background-1);
      }
      &::before {
        transform: translate(
          calc(var(--distance) * 2),
          calc(var(--distance) * 2)
        );
        background-color: var(--clr-text-2);
      }
    }
  }
</style>

<script defer>
  const projects = [
    {
      linkLive: 'https://music-gram-yefreescoding.vercel.app',
      linkGit: 'https://music-gram-yefreescoding.vercel.app',
      name: 'Music Gram',
      image: '/images/projects-img/music-gram.webp',
      description: `Un sitio web creado para mostrar contenido estático sobre los artistas y la música, que mas me gusta y me inspira.`,
    },
    {
      linkLive: 'https://music-gram-yefreescoding.vercel.app',
      linkGit: 'https://music-gram-yefreescoding.vercel.app',
      name: 'Personal blog',
      image: '/images/projects-img/blog.png',
      description: `Mi blog personal, creado desde cero. Siempre quise tener mi propio blog, y poder crear este sitio web la verdad me llena de orgullo.`,
    },
    {
      linkLive: 'https://music-gram-yefreescoding.vercel.app',
      linkGit: 'https://music-gram-yefreescoding.vercel.app',
      name: 'Influencer landing page',
      image: '/images/projects-img/influencer-landing.png',
      description: `Rediseño landing page de una influencer. Quise crear un pequeño sitio web de una pagina. Sin uso de librerías, todo en Vanilla`,
    },
  ];

  const projImg = document.getElementById('proj-img');
  const projTitle = document.getElementById('proj-title');
  const linkLive = document.getElementById('link-live');
  const linkGit = document.getElementById('link-git');
  const projDesc = document.getElementById('proj-desc');

  const btnSelected = document.querySelectorAll('.proj-btn');
  const section = document.getElementById('project-display');

  let currentItem = 0;

  window.addEventListener('DOMContentLoaded', () => {
    showProject(currentItem);
  });

  function showProject(project) {
    const item = projects[project];
    projTitle.textContent = item.name;
    projImg.src = item.image;
    linkLive.href = item.linkLive;
    linkGit.href = item.linkGit;
    projDesc.textContent = item.description;
  }

  section.addEventListener('click', (e) => {
    const id = e.target.dataset.id;
    if (id) {
      btnSelected.forEach((btn) => {
        btn.classList.remove('selected');
        e.target.classList.add('selected');
      });
    }

    if (id === 'project-1') {
      currentItem = 0;
      showProject(currentItem);
    } else if (id === 'project-2') {
      currentItem = 1;
      showProject(currentItem);
    } else {
      currentItem = 2;
      showProject(currentItem);
    }
  });
</script>
